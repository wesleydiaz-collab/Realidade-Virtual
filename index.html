<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Montagem VR – Ordem Guiada</title>

    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-super-hands@4.0.5/dist/aframe-super-hands.min.js"></script>
    <script src="snap-ordered.js"></script>
  </head>

  <body>
    <a-scene vr-mode-ui="enabled: true">

      <!-- Estado global da montagem -->
      <a-entity id="assemblyState" assembly-manager></a-entity>

      <!-- Câmera -->
      <a-entity camera look-controls position="0 1.6 0"></a-entity>

      <!-- Controladores -->
      <a-entity laser-controls="hand: left" super-hands></a-entity>
      <a-entity laser-controls="hand: right" super-hands></a-entity>

      <!-- SNAP POINTS -->
      <a-entity id="snap-base" position="0 1 -1"></a-entity>
      <a-entity id="snap-body" position="0 1.2 -1"></a-entity>
      <a-entity id="snap-top"  position="0 1.4 -1"></a-entity>

      <!-- PEÇAS (note step) -->

      <!-- 1️⃣ BASE -->
      <a-box
        position="-0.6 1 -1"
        color="#ffb3b3"
        width="0.4"
        height="0.1"
        depth="0.4"
        grabbable
        ordered-snap="target: #snap-base; step: 1"
      ></a-box>

      <!-- 2️⃣ CORPO -->
      <a-box
        position="-0.6 1.3 -1"
        color="#b3d9ff"
        width="0.35"
        height="0.3"
        depth="0.35"
        grabbable
        ordered-snap="target: #snap-body; step: 2"
      ></a-box>

      <!-- 3️⃣ TAMPA -->
      <a-box
        position="-0.6 1.7 -1"
        color="#b3ffcc"
        width="0.38"
        height="0.08"
        depth="0.38"
        grabbable
        ordered-snap="target: #snap-top; step: 3"
      ></a-box>

      <!-- Chão -->
      <a-plane rotation="-90 0 0" width="10" height="10" color="#f4f4f4"></a-plane>

      <!-- Luz -->
      <a-light type="ambient" intensity="0.9"></a-light>

    </a-scene>
  </body>
</html>
